<div data-visual-editor-target="propertiesPanel" class="hidden absolute top-4 right-4 bg-base-200/90 backdrop-blur-lg p-4 rounded-lg shadow-xl border border-base-300/30 w-64 z-10">
  <div data-visual-editor-target="panelHandle" class="absolute top-0 left-0 w-full h-8 cursor-move flex items-center justify-center">
    <svg class="w-6 h-6 text-gray-700" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
      <circle cx="7" cy="6" r="1.5" />
      <circle cx="13" cy="6" r="1.5" />
      <circle cx="19" cy="6" r="1.5" />
      <circle cx="7" cy="12" r="1.5" />
      <circle cx="13" cy="12" r="1.5" />
      <circle cx="19" cy="12" r="1.5" />
    </svg>
  </div>
  <div class="flex justify-between items-center mb-4">
    <h3 class="text-lg font-bold" data-visual-editor-target="panelTitle">Properties</h3>
    <button type="button" class="btn btn-xs btn-ghost" data-action="click->visual-editor#closePanel">âœ•</button>
  </div>

  <div class="space-y-4">
    <%# X Position Input %>
    <div class="form-control">
      <label class="label"><span class="label-text">X Position (%)</span></label>
      <div class="flex items-center space-x-2">
        <input type="range" min="0" max="100" step="0.1" data-visual-editor-target="panelXInput" data-action="input->visual-editor#updateFromPanel" data-property="x" class="range range-primary flex-grow">
        <input type="number" step="0.1" data-visual-editor-target="panelXValueInput" data-action="input->visual-editor#updateFromPanel" data-property="x" class="input input-bordered w-14 text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none">
      </div>
    </div>

    <%# Y Position Input %>
    <div class="form-control">
      <label class="label"><span class="label-text">Y Position (%)</span></label>
      <div class="flex items-center space-x-2">
        <input type="range" min="0" max="100" step="0.1" data-visual-editor-target="panelYInput" data-action="input->visual-editor#updateFromPanel" data-property="y" class="range range-primary flex-grow">
        <input type="number" step="0.1" data-visual-editor-target="panelYValueInput" data-action="input->visual-editor#updateFromPanel" data-property="y" class="input input-bordered w-14 text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none">
      </div>
    </div>

    <%# Color Input %>
    <div data-visual-editor-target="panelColorContainer" class="form-control">
      <label class="label"><span class="label-text">Color</span></label>
      <input type="color" data-visual-editor-target="panelColorInput" data-action="input->visual-editor#updateFromPanel" data-property="color" class="input input-bordered w-full">
    </div>

    <%# Size Input %>
    <div data-visual-editor-target="panelSizeContainer" class="form-control">
      <label class="label"><span class="label-text" data-visual-editor-target="panelSizeLabel">Size</span></label>
      <div class="flex items-center space-x-2">
        <input type="range" min="8" max="100" step="1" data-visual-editor-target="panelSizeInput" data-action="input->visual-editor#updateFromPanel" data-property="size" class="range range-primary flex-grow">
        <input type="number" step="1" data-visual-editor-target="panelSizeValueInput" data-action="input->visual-editor#updateFromPanel" data-property="size" class="input input-bordered w-14 text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none">
      </div>
    </div>

    <%# Max Text Width Input %>
    <div data-visual-editor-target="panelMaxWidthContainer" class="form-control">
      <label class="label"><span class="label-text">Max Width (%)</span></label>
      <div class="flex items-center space-x-2">
        <input type="range" min="5" max="100" step="1" data-visual-editor-target="panelMaxWidthInput" data-action="input->visual-editor#updateFromPanel" data-property="max_text_width" class="range range-primary flex-grow">
        <input type="number" step="1" data-visual-editor-target="panelMaxWidthValueInput" data-action="input->visual-editor#updateFromPanel" data-property="max_text_width" class="input input-bordered w-14 text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none">
      </div>
    </div>

    <%# Preview Text Input %>
    <div data-visual-editor-target="panelPreviewTextContainer" class="form-control">
      <label class="label"><span class="label-text">Preview Text</span></label>
      <textarea data-visual-editor-target="panelPreviewTextInput" data-action="input->visual-editor#updatePreviewText" class="textarea textarea-bordered" rows="3"></textarea>
    </div>
  </div>
</div>