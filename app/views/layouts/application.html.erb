<!DOCTYPE html>
<html lang="<%= I18n.locale %>" data-theme="bumblebee">
  <head>
    <%# Mobile Viewport Meta Tags %>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <%= display_meta_tags site: 'HongBao',
                          title: "Bitcoin gift: Paper Wallet Envelopes for Beginners",
                          reverse: true,
                          separator: '|',
                          description: t('.meta.description'),
                          keywords: t('.meta.keywords'),
                          canonical: request.original_url,
                          og: {
                            site_name: 'Hongâ‚¿ao',
                            type: 'website',
                            title: :title,
                            description: :description,
                            image: content_for?(:og_image) ? yield(:og_image) : image_url('og-image.jpg'),
                            url: request.original_url
                          },
                          twitter: {
                            card: 'summary_large_image',
                            site: '@hongbaobitcoin',
                            title: :title,
                            description: :description,
                            image: :og_image
                          } %>

    <%= yield :head %>

    <%# Enable PWA manifest for installable apps (make sure to enable in config/routes.rb too!) %>
    <%#= tag.link rel: "manifest", href: pwa_manifest_path(format: :json) %>

    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

    <%# Google Fonts %>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fuzzy+Bubbles:wght@400;700&display=swap" rel="stylesheet">

    <%# Includes all stylesheet files in app/views/stylesheets %>
    <%= stylesheet_link_tag "application", "tailwind", "data-turbo-track": "reload" %>
    <%= theme_css(current_theme) %>
    <%# Support importmap for legacy browsers https://caniuse.com/import-maps %>
    <%= render "shared/plausible" %>

    <%= action_cable_meta_tag %>
    <%= csp_meta_tag %>
    <%# javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload" %>
    <%= render(AnalyticsComponent.new(renderable: !content_for?(:skip_analytics))) %>
  </head>

  <%= tag.body(**attributes_from(yield(:body_attributes))) do %>
    <%= notification_container %>
    <%= render_notifications %>
    <%= yield %>
  <% end %>

  <!-- After the body tag so icons are loaded even after the page changes on click -->
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  <%= content_for?(:footer) ? yield(:footer) : render("shared/footer") %>
</html>
