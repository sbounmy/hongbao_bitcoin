<div class="flex-1 flex flex-col bg-[#2a2a2e]">
    <!-- Viewport for scrolling - expands to fullscreen via pdf controller -->
    <div data-pdf-target="viewport"
         class="max-h-[300px] md:max-h-[50vh] bg-[#2a2a2e] p-4 w-full mx-auto overflow-auto"
         data-action="
           click->pdf#handleViewportClick
           wheel->pdf#handleWheel
           touchstart->pdf#handleTouchStart
           touchmove->pdf#handleTouchMove
           touchend->pdf#handleTouchEnd
         ">
      <!-- Wrapper to handle scaled dimensions for scrolling -->
      <div data-pdf-target="wrapper" class="mx-auto">
        <!-- This is the actual content that will be rendered to PDF -->
        <div data-pdf-target='content' class="w-[210mm] h-[297mm] bg-white p-8 flex flex-col justify-between gap-2 shadow-lg origin-top-left">
          <!-- Main content of the page -->
          <div class="flex flex-col justify-between">
            <div class="flex items-center">
              <%= cuttable_content class: "flex #{frame.layout_direction} #{frame.layout_classes}" do %>
                <%# Back - uses template image directly (no portrait) %>
                <div class="<%= frame.css_classes %> <%= frame.rotation_back %>">
                  <%= render 'papers/new2/paper_canva',
                          frame: frame,
                          paper: paper,
                          strict: true,
                          image_base64: template_back_base64,
                          side: "back"
                  %>
                </div>

              <%# Fold Line %>
              <div class="<%= frame.fold_line %> border-white">
              </div>

                <%# Front - uses template image with portrait compositing %>
                <div class="<%= frame.css_classes %> <%= frame.rotation_front %>">
                  <%= render 'papers/new2/paper_canva',
                          frame: frame,
                          paper: paper,
                          strict: true,
                          image_base64: template_front_base64,
                          portrait_config: portrait_config,
                          side: "front"
                  %>
                </div>
            <% end %>
            <div class="relative w-8" data-reveal-target="item">
              <div class="flex justify-start -ml-[195px] transform-[rotate(-90deg)] text-black w-[154mm] py-2">
                <div class="space-y-1">
                  <div class="flex gap-2">
                    <h2 class="text-2xl font-bold">REMINDER</h2>
                    <span class="text-gray-600">(to be kept by the donor)</span>
                  </div>

                  <div class="space-y-2">
                    <p>
                      <span class="font-bold">1.</span> Cut out the Bitcoin paper wallet (left part) and fold it to create your gift.
                    </p>
                    <p>
                      <span class="font-bold">2.</span> After creating the paper wallet, you can put it in a Hongâ‚¿ao (Bitcoin red envelope) and give it to the recipient.
                    </p>
                    <p>
                      <span class="font-bold">Warning:</span> Never share the private key with anyone. Only the recipient should have access to it.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div data-reveal-target="item">
          <%= render 'hong_baos/pdf/footer', paper: paper %>
        </div>
      </div>
    </div>
  </div>
</div>
