<div data-hong-bao-target="step">
  <div class="flex flex-col gap-4 max-w-xl mx-auto">
    <% papers.each do |paper| %>
      <div class="group/paper group/hover w-full cursor-pointer flex-shrink-0 [perspective:1000px] transition-all"
           data-paper-id=<%= paper.id %>
           data-action="click->hong-bao#paperSelected"
           data-hong-bao-target="paper"
           data-paper-image-front-url="<%= paper.image_front.attached? ? url_for(paper.image_front) : '' %>"
           data-paper-image-back-url="<%= paper.image_back.attached? ? url_for(paper.image_back) : '' %>"
           data-paper-elements="<%= paper.elements.to_json %>">

        <div class="group-open/paper:ring-[#FFB636] group-open/paper:ring-8 relative flex flex-col w-full transition-transform duration-500 [transform-style:preserve-3d] group-hover/paper:[transform:rotateY(180deg)]"
             data-hong-bao-target="flipCardInner">

          <div class="w-full [-webkit-backface-visibility:hidden] [backface-visibility:hidden]">
            <%= render partial: "hong_baos/new/front_bill", locals: { paper: paper, hong_bao: hong_bao, context: 'design', frozen: true } %>
          </div>

          <div class="absolute top-0 left-0 w-full [-webkit-backface-visibility:hidden] [backface-visibility:hidden] [transform:rotateY(180deg)]">
            <%= render partial: "hong_baos/new/back_bill", locals: { paper: paper, hong_bao: hong_bao, context: 'design', frozen: true } %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
