<div class="flex flex-col h-full max-h-full overflow-hidden px-4 py-2"
     data-controller='disabled'
     data-action='password-meter:valid@window->disabled#remove password-meter:invalid@window->disabled#add'
     data-steps-target="content"
     data-steps-index="<%= local_assigns[:index] || 3 %>">

  <fieldset class="fieldset">
    <legend class="fieldset-legend text-[#FFB636]">Beneficiary</legend>
    <div class="flex gap-2 text-white">
      <label for="mode">
        <span class="">Beginner</span>
      </label>
      <input type="checkbox" id="mode" class="toggle" data-action="bitcoin#modeChanged" />
      <label for="mode">
        <span class="">Maximalist</span>
      </label>
    </div>
    <p class="label">Beginner : QRCode goes to hongbaob.tc for easy access</p>
  </fieldset>

  <fieldset class="fieldset mt-4">
    <div class="flex items-center justify-between">
      <legend class="fieldset-legend text-[#FFB636]">Password</legend>
      <span class="text-xs px-2 py-1 bg-[#FFB636]/20 text-[#FFB636] rounded-full">
        Recommended for $100+ gift
      </span>
    </div>
    <div class="space-y-2">
      <%= render PasswordMeterComponent.new(
        input_id: "pdf-password",
        name: "pdf_password",
        placeholder: "8+ chars, uppercase, lowercase, number & symbol",
        data_targets: { pdf: "password" },
        show_visibility_toggle: true,
        min_length: 8,
        require_uppercase: true,
        require_lowercase: true,
        require_numbers: true,
        require_special: true,
        show_requirements: false,
        show_meter: true
      ) %>

      <div class="text-xs text-white/70 mt-2 space-y-1">
        <p>‚ö†Ô∏è <strong>Important:</strong> There's no way to password recovery - if lost, PDF won't open!</p>
        <p>üí° <strong>Tip:</strong> You can skip now and add password protection with your PDF viewer</p>
      </div>
    </div>
  </fieldset>

  <%# Download PDF Button - Next is in the header %>
  <div class="pt-4">
    <button type="button"
            data-disabled-target='element'
            class="cursor-pointer w-full py-3 px-4 bg-[#FFB636] rounded-xl shadow-lg text-sm font-medium
                    text-black hover:bg-[#FFB636]/90 transition-colors duration-300 flex items-center justify-center gap-2 disabled:opacity-30"
            data-action="pdf#download">
      <%= heroicon "arrow-down-tray", class: "w-5 h-5" %>
      Download PDF
    </button>
  </div>
</div>