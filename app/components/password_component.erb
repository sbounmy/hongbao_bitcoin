<div class="card w-96 bg-base-100 shadow-xl">
  <div class="card-body">
    <% if action == :new %>
      <h2 class="card-title justify-center text-2xl font-bold">Forgot your password?</h2>
      
      <%= form_with url: passwords_path, class: "space-y-4" do |form| %>
        <% if alert = flash[:alert] %>
          <div class="alert alert-error">
            <%= alert %>
          </div>
        <% end %>
        
        <div class="form-control">
          <%= form.email_field :email, 
              required: true, 
              autofocus: true, 
              autocomplete: "username", 
              placeholder: "Enter your email address", 
              value: params[:email], 
              class: "input input-bordered w-full" %>
        </div>

        <%= form.submit "Email reset instructions", class: "btn btn-primary w-full" %>
        
        <div class="text-center">
          <%= link_to "Back to sign in", new_session_path, class: "link link-primary text-sm" %>
        </div>
      <% end %>
    <% else %>
      <h2 class="card-title justify-center text-2xl font-bold">Reset your password</h2>
      
      <%= form_with url: password_path(token), method: :put, class: "space-y-4" do |form| %>
        <% if alert = flash[:alert] %>
          <div class="alert alert-error">
            <%= alert %>
          </div>
        <% end %>
        
        <div class="form-control gap-2">
          <%= form.password_field :password,
              required: true,
              autofocus: true,
              autocomplete: "new-password",
              placeholder: "New password",
              class: "input input-bordered w-full" %>
              
          <%= form.password_field :password_confirmation,
              required: true,
              autocomplete: "new-password",
              placeholder: "Confirm new password",
              class: "input input-bordered w-full" %>
        </div>

        <%= form.submit "Reset password", class: "btn btn-primary w-full" %>
      <% end %>
    <% end %>
  </div>
</div>