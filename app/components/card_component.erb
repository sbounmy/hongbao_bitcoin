<div class='card group shadow-sm rounded-4xl relative w-full'
       data-controller="reveal"
       data-reveal-target="item"
       data-reveal-hidden-class="is-flipped"
       data-action="click->reveal#toggle">

    <%# <!-- Overlay: Appears when card is flipped -->
    <div class="fixed inset-0 h-screen w-screen bg-black/60 backdrop-blur-sm z-30 opacity-0 group-[.is-flipped]:opacity-100 transition-opacity duration-300 pointer-events-none group-[.is-flipped]:pointer-events-auto"
         data-action="click->reveal#toggle">
    </div> %>

    <!-- Flipper: contains front and back faces -->
    <div class="w-full relative transition-transform duration-700 ease-in-out group-[.is-flipped]:[transform:rotateY(180deg)] group-[.is-flipped]:z-40 [transform-style:preserve-3d] min-h-[280px]">

      <!-- Front Face -->
      <div class="w-full h-full bg-white p-12 rounded-4xl cursor-pointer flex flex-col justify-center items-start space-y-4 [backface-visibility:hidden] [-webkit-backface-visibility:hidden]"
           data-action="click->reveal#show">
           <%= front %>
      </div>

      <!-- Back Face (Modal Content) -->
      <div class="absolute inset-0 w-full h-full bg-base-100 p-6 sm:p-8 rounded-4xl flex flex-col [transform:rotateY(180deg)] overflow-y-auto [backface-visibility:hidden] [-webkit-backface-visibility:hidden]">
        <%= button_tag "x", aria_label: 'Close', class: "btn btn-sm btn-circle btn-ghost absolute right-4 top-4 z-20", data: { action: "click->reveal#hide" } %>

        <div class="flex-grow flex flex-col">
          <%= back %>
        </div>
      </div>
    </div>
  </div>