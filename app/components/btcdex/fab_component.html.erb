<%# FAB with flower pattern - overlays without pushing layout %>
<div class="relative w-12 h-12 md:w-16 md:h-16 group" tabindex="0">
  <%# Main trigger button - Pokedex lens style %>
  <div class="w-12 h-12 md:w-14 md:h-14 rounded-full
              flex items-center justify-center
              bg-gradient-to-br from-cyan-300 via-accent to-cyan-600
              ring-4 ring-white ring-offset-4 ring-offset-base-200
              shadow-[inset_0_-4px_8px_rgba(0,0,0,0.3),inset_0_4px_8px_rgba(255,255,255,0.2),0_4px_12px_rgba(0,0,0,0.4)]
              hover:scale-105 transition-transform
              cursor-pointer relative z-10">
    <%# Glossy highlight %>
    <div class="absolute w-5 h-5 md:w-6 md:h-6 bg-white/40 rounded-full top-1 left-1.5 blur-[2px]"></div>
    <span class="text-3xl md:text-4xl font-bold text-white opacity-80 select-none rotate-[14deg] ml-[2px] drop-shadow-md">₿</span>
  </div>

  <%# Flower pattern - dynamically calculated based on number of actions %>
  <%
    count = actions.size
    radius = 65
    # Quarter circle from 15° to 90° (down-right arc)
    start_angle = 15
    end_angle = 90
    # Calculate spread based on number of items
    spread = count > 1 ? (end_angle - start_angle) / (count - 1).to_f : 0
  %>
  <% actions.each_with_index do |action, index| %>
    <%
      angle = count == 1 ? 45 : start_angle + (index * spread)
      x = (Math.sin(angle * Math::PI / 180) * radius).round
      y = (Math.cos(angle * Math::PI / 180) * radius).round
    %>
    <%= link_to action.href,
        class: "btn btn-circle btn-sm btn-neutral shadow-xl absolute z-20
                opacity-0 scale-0 pointer-events-none
                group-focus:opacity-100 group-focus:scale-100 group-focus:pointer-events-auto
                group-focus-within:opacity-100 group-focus-within:scale-100 group-focus-within:pointer-events-auto
                transition-all duration-200",
        style: "top: #{y}px; left: #{x}px; transition-delay: #{index * 40}ms;",
        data: { tip: action.label } do %>
      <%= heroicon action.icon, class: "w-4 h-4" %>
    <% end %>
  <% end %>
</div>
